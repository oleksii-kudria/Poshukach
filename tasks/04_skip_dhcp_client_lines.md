# üß© –ó–∞–≤–¥–∞–Ω–Ω—è 04 ‚Äî –ü—Ä–æ–ø—É—Å–∫ —Å–ª—É–∂–±–æ–≤–∏—Ö DHCP-–ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω—å –ø—Ä–∏ –ø–∞—Ä—Å–∏–Ω–≥—É `payloadAsUTF`

## üéØ –ú–µ—Ç–∞
–ü—ñ–¥ —á–∞—Å –ø–∞—Ä—Å–∏–Ω–≥—É DHCP-–ª–æ–≥—ñ–≤ (—É –ø–æ–ª—ñ `payloadAsUTF`) **–ø—Ä–æ–ø—É—Å–∫–∞—Ç–∏ —Å–ª—É–∂–±–æ–≤—ñ —Ä—è–¥–∫–∏**, —â–æ –Ω–µ –º—ñ—Å—Ç—è—Ç—å —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—ó –ø—Ä–æ –≤–∏–¥–∞—á—É IP-–∞–¥—Ä–µ—Å —ñ–Ω—à–∏–º –ø—Ä–∏—Å—Ç—Ä–æ—è–º, –∞ –ª–∏—à–µ –ø–æ–≤—ñ–¥–æ–º–ª—è—é—Ç—å –ø—Ä–æ –æ—Ç—Ä–∏–º–∞–Ω–Ω—è IP-–∞–¥—Ä–µ—Å–∏ —Å–∞–º–∏–º –∫–ª—ñ—î–Ω—Ç–æ–º –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ç–æ—Ä–∞.

---

## üßæ –ü—Ä–∏–∫–ª–∞–¥ —Ä—è–¥–∫–∞, —è–∫–∏–π –ø–æ—Ç—Ä—ñ–±–Ω–æ **–ø—Ä–æ–ø—É—Å–∫–∞—Ç–∏**
```
dhcp,info dhcp-client on ether1 got IP address 10.100.100.200
```

> –¢–∞–∫—ñ –∑–∞–ø–∏—Å–∏ **–Ω–µ –ø–æ–≤–∏–Ω–Ω—ñ –ø–æ—Ç—Ä–∞–ø–ª—è—Ç–∏ –≤ –æ–±—Ä–æ–±–∫—É**, —Ç–æ–±—Ç–æ –≤–æ–Ω–∏ –Ω–µ –≤—Ä–∞—Ö–æ–≤—É—é—Ç—å—Å—è –ø—Ä–∏ –ø–æ–±—É–¥–æ–≤—ñ `data/interim/dhcp.csv`.

---

## üß© –õ–æ–≥—ñ–∫–∞ —Ä–µ–∞–ª—ñ–∑–∞—Ü—ñ—ó

1. –ü—ñ–¥ —á–∞—Å –∑—á–∏—Ç—É–≤–∞–Ω–Ω—è —Ä—è–¥–∫—ñ–≤ –∑ –ø–æ–ª–µ–º `payloadAsUTF`, –ø–µ—Ä–µ–¥ –ø–∞—Ä—Å–∏–Ω–≥–æ–º IP/MAC/name, –ø–æ—Ç—Ä—ñ–±–Ω–æ **–ø–µ—Ä–µ–≤—ñ—Ä—è—Ç–∏, —á–∏ —Ä—è–¥–æ–∫ —î —Å–ª—É–∂–±–æ–≤–∏–º**.
2. –Ø–∫—â–æ —Ä—è–¥–æ–∫ –º—ñ—Å—Ç–∏—Ç—å –ø—ñ–¥—Ä—è–¥–æ–∫:
   ```
   dhcp-client on
   ```
   –∞–±–æ –∑–∞–¥–æ–≤–æ–ª—å–Ω—è—î —Ä–µ–≥—É–ª—è—Ä–Ω–∏–π –≤–∏—Ä–∞–∑:
   ```
   ^dhcp,info\s+dhcp-client\s+on
   ```
   ‚Äî **–ø—Ä–æ–ø—É—Å—Ç–∏—Ç–∏ —Ü–µ–π —Ä—è–¥–æ–∫** (–Ω–µ –æ–±—Ä–æ–±–ª—è—Ç–∏, –Ω–µ –≤–∫–ª—é—á–∞—Ç–∏ —É –≥—Ä—É–ø—É–≤–∞–Ω–Ω—è).
3. –£—Å—ñ —ñ–Ω—à—ñ –∑–∞–ø–∏—Å–∏ –æ–±—Ä–æ–±–ª—è—é—Ç—å—Å—è —è–∫ —Ä–∞–Ω—ñ—à–µ (–∑–∞ –ª–æ–≥—ñ–∫–æ—é –∑–∞–¥–∞—á—ñ 03).

---

## ‚öôÔ∏è –¢–µ—Ö–Ω—ñ—á–Ω—ñ –¥–µ—Ç–∞–ª—ñ
- –ü–µ—Ä–µ–≤—ñ—Ä–∫—É —Ä–µ–∞–ª—ñ–∑—É–≤–∞—Ç–∏ –¥–æ –≤–∏–∫–ª–∏–∫—É —Ä–µ–≥—É–ª—è—Ä–Ω–∏—Ö –≤–∏—Ä–∞–∑—ñ–≤ –¥–ª—è –≤–∏–ª—É—á–µ–Ω–Ω—è IP/MAC/name.
- –ú–æ–∂–Ω–∞ —Å—Ç–≤–æ—Ä–∏—Ç–∏ –¥–æ–ø–æ–º—ñ–∂–Ω—É —Ñ—É–Ω–∫—Ü—ñ—é:
  ```python
  def is_client_message(payload: str) -> bool:
      return payload.lower().startswith("dhcp,info dhcp-client on")
  ```
- –¢–∞–∫—ñ —Ä—è–¥–∫–∏ –Ω–µ –≤—Ä–∞—Ö–æ–≤—É—é—Ç—å—Å—è —É:
  - `count`,
  - `dateList`,
  - `firstDate/lastDate`,
  - —Ç–∞ —É –ø—ñ–¥—Å—É–º–∫–æ–≤–æ–º—É CSV.

---

## üì§ –í–∏–≤—ñ–¥ —É –∫–æ–Ω—Å–æ–ª—å
–ü—ñ—Å–ª—è –≤–∏–∫–æ–Ω–∞–Ω–Ω—è –æ–±—Ä–æ–±–∫–∏ (—è–∫ —É –ø–æ–ø–µ—Ä–µ–¥–Ω—ñ–π –∑–∞–¥–∞—á—ñ) –≤—Å–µ —â–µ –≤–∏–≤–æ–¥–∏—Ç–∏:
```
‚úÖ –ó–∞–ø–∏—Å–∞–Ω–æ —Ä—è–¥–∫—ñ–≤ –¥–æ data/interim/dhcp.csv: <N>
```
–∞–ª–µ —Ç–µ–ø–µ—Ä –∫—ñ–ª—å–∫—ñ—Å—Ç—å —Ä—è–¥–∫—ñ–≤ –±—É–¥–µ **–º–µ–Ω—à–∞**, –±–æ —Å–ª—É–∂–±–æ–≤—ñ DHCP-–∫–ª—ñ—î–Ω—Ç—Å—å–∫—ñ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è —ñ–≥–Ω–æ—Ä—É—é—Ç—å—Å—è.

---

## ‚úÖ –ö—Ä–∏—Ç–µ—Ä—ñ—ó –ø—Ä–∏–π–Ω—è—Ç—Ç—è
- [ ] –£—Å—ñ –∑–∞–ø–∏—Å–∏, –¥–µ `payloadAsUTF` –ø–æ—á–∏–Ω–∞—î—Ç—å—Å—è –∑ `dhcp,info dhcp-client on`, –ø—Ä–æ–ø—É—Å–∫–∞—é—Ç—å—Å—è.
- [ ] –¶—ñ —Ä—è–¥–∫–∏ –Ω–µ –ø–æ—Ç—Ä–∞–ø–ª—è—é—Ç—å –¥–æ `data/interim/dhcp.csv`.
- [ ] –†–µ—à—Ç–∞ –ª–æ–≥—ñ–∫–∏ –∑ –∑–∞–¥–∞—á—ñ 03 (–≥—Ä—É–ø—É–≤–∞–Ω–Ω—è, –ø–∞—Ä—Å–∏–Ω–≥ IP/MAC/name, randomization, –¥–∞—Ç–∏) –ø—Ä–∞—Ü—é—î –±–µ–∑ –∑–º—ñ–Ω.
- [ ] –ö–æ–Ω—Å–æ–ª—å–Ω–∏–π –∑–≤—ñ—Ç –∑–∞–ª–∏—à–∞—î—Ç—å—Å—è —É –ø–æ–ø–µ—Ä–µ–¥–Ω—å–æ–º—É —Ñ–æ—Ä–º–∞—Ç—ñ.
