# üß© –ó–∞–≤–¥–∞–Ω–Ω—è 16 ‚Äî –ì–µ–Ω–µ—Ä–∞—Ü—ñ—è —Ç–µ–∫—Å—Ç–æ–≤–∏—Ö —Ä–µ–ø–æ—Ä—Ç—ñ–≤ –ø–æ `dhcp-false.csv`

## üéØ –ú–µ—Ç–∞
–ó–≥–µ–Ω–µ—Ä—É–≤–∞—Ç–∏ –ø–æ –∫–æ–∂–Ω–æ–º—É –¥–∂–µ—Ä–µ–ª—É –∂—É—Ä–Ω–∞–ª—ñ–≤ (`source`) —Ç–µ–∫—Å—Ç–æ–≤–∏–π –∑–≤—ñ—Ç –∑ –ø–µ—Ä—ñ–æ–¥–æ–º —Å–ø–æ—Å—Ç–µ—Ä–µ–∂–µ–Ω–Ω—è —Ç–∞ –ø–µ—Ä–µ–ª—ñ–∫–æ–º –ø—Ä–∏—Å—Ç—Ä–æ—ó–≤, —è–∫—ñ **–π–º–æ–≤—ñ—Ä–Ω–æ –ø—Ä–∞—Ü—é—é—Ç—å –±–µ–∑ –ê–í–ü–ó**, –Ω–∞ –æ—Å–Ω–æ–≤—ñ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ñ–≤ –ø–æ–ø–µ—Ä–µ–¥–Ω—ñ—Ö –µ—Ç–∞–ø—ñ–≤.

–ó–∞–ø—É—Å–∫ –∫–æ–º–∞–Ω–¥–∏:
```bash
python3 scripts/psh.py report
```

---

## üìÅ –í—Ö—ñ–¥–Ω—ñ –¥–∞–Ω—ñ
- `data/result/dhcp-false.csv` ‚Äî –ø—ñ–¥—Å—É–º–∫–æ–≤–∏–π —Ñ–∞–π–ª —ñ–∑ –ø—Ä–∏—Å—Ç—Ä–æ—è–º–∏, —á–∏–π MAC **–Ω–µ –∑–Ω–∞–π–¥–µ–Ω–æ** —É —Å–ø–∏—Å–∫—É `data/interim/mac.csv`.
- `data/raw/dhcp/*.csv` ‚Äî —Å–∏—Ä—ñ DHCP-–ª–æ–≥–∏ –∑ –ø–æ–ª—è–º–∏:
  ```
  logSourceIdentifier,sourcMACAddress,payloadAsUTF,deviceTime
  ```
  > –ü—ñ–¥ —á–∞—Å –∞–Ω–∞–ª—ñ–∑—É **—ñ–≥–Ω–æ—Ä—É–≤–∞—Ç–∏** —Ñ–∞–π–ª–∏ `*.example.csv`.

---

## üì¶ –í–∏—Ö—ñ–¥–Ω—ñ –¥–∞–Ω—ñ
–î–ª—è **–∫–æ–∂–Ω–æ–≥–æ —É–Ω—ñ–∫–∞–ª—å–Ω–æ–≥–æ** –∑–Ω–∞—á–µ–Ω–Ω—è `source` —ñ–∑ `data/result/dhcp-false.csv` —Å—Ç–≤–æ—Ä–∏—Ç–∏ —Ñ–∞–π–ª:
```
data/report/report-{source}.txt
```
> –Ø–∫—â–æ `source` –º—ñ—Å—Ç–∏—Ç—å –Ω–µ–±–µ–∑–ø–µ—á–Ω—ñ –∞–±–æ —Å–ª—É–∂–±–æ–≤—ñ —Å–∏–º–≤–æ–ª–∏ (`/`, `\`, `:`, –ø—Ä–æ–±—ñ–ª–∏ —Ç–æ—â–æ) ‚Äî –∑–∞–º—ñ–Ω–∏—Ç–∏ —ó—Ö –Ω–∞ `_` —É –Ω–∞–∑–≤—ñ —Ñ–∞–π–ª—É, –∞–ª–µ —É –≤–º—ñ—Å—Ç—ñ –∑–≤—ñ—Ç—É –∑–∞–ª–∏—à–∞—Ç–∏ –æ—Ä–∏–≥—ñ–Ω–∞–ª—å–Ω–µ –∑–Ω–∞—á–µ–Ω–Ω—è.

---

## üîé –ö—Ä–æ–∫–∏ –æ–±—Ä–æ–±–∫–∏

### 1Ô∏è‚É£ –ó—ñ–±—Ä–∞—Ç–∏ —É–Ω—ñ–∫–∞–ª—å–Ω—ñ `source`
- –ü—Ä–æ—á–∏—Ç–∞—Ç–∏ `data/result/dhcp-false.csv`.
- –í–∏—Ç—è–≥–Ω—É—Ç–∏ —É–Ω—ñ–∫–∞–ª—å–Ω—ñ –∑–Ω–∞—á–µ–Ω–Ω—è –∫–æ–ª–æ–Ω–∫–∏ `source`.
- –Ø–∫—â–æ —Ñ–∞–π–ª –ø–æ—Ä–æ–∂–Ω—ñ–π –∞–±–æ –∫–æ–ª–æ–Ω–∫–∞ –≤—ñ–¥—Å—É—Ç–Ω—è ‚Äî –∑–∞–≤–µ—Ä—à–∏—Ç–∏ –ø—Ä–æ—Ü–µ—Å —ñ–∑ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è–º —É –∫–æ–Ω—Å–æ–ª—å.

### 2Ô∏è‚É£ –í–∏–∑–Ω–∞—á–∏—Ç–∏ –ø–µ—Ä—ñ–æ–¥ —Å–ø–æ—Å—Ç–µ—Ä–µ–∂–µ–Ω–Ω—è
- –î–ª—è –∫–æ–∂–Ω–æ–≥–æ `source`:
  - –ó–Ω–∞–π—Ç–∏ –≤—Å—ñ —Ä—è–¥–∫–∏ —É `data/raw/dhcp/*.csv` (–∫—Ä—ñ–º `.example.csv`), –¥–µ `logSourceIdentifier == source`.
  - –û–±—á–∏—Å–ª–∏—Ç–∏ `min(deviceTime)` —ñ `max(deviceTime)`.
  - –ü–µ—Ä–µ—Ç–≤–æ—Ä–∏—Ç–∏ epochtime (—É –º—ñ–ª—ñ—Å–µ–∫—É–Ω–¥–∞—Ö) —É —Ñ–æ—Ä–º–∞—Ç `YYYY.MM.DD HH:MM` **–±–µ–∑ —á–∞—Å–æ–≤–æ—ó –∑–æ–Ω–∏**.
  - –Ø–∫—â–æ –Ω–µ–º–∞—î –∑–±—ñ–≥—ñ–≤ ‚Äî —É –∑–≤—ñ—Ç—ñ –≤–∏–≤–µ—Å—Ç–∏:
    ```
    –ü–µ—Ä—ñ–æ–¥ —Å–ø–æ—Å—Ç–µ—Ä–µ–∂–µ–Ω–Ω—è: –¥–∞–Ω—ñ –≤—ñ–¥—Å—É—Ç–Ω—ñ —É —Å–∏—Ä–∏—Ö DHCP-–ª–æ–≥–∞—Ö –¥–ª—è –¥–∂–µ—Ä–µ–ª–∞ "<source>".
    ```

### 3Ô∏è‚É£ –°—Ç–≤–æ—Ä–∏—Ç–∏ —Ç–µ–∫—Å—Ç –∑–≤—ñ—Ç—É
1. –ù–∞ –ø–æ—á–∞—Ç–∫—É —Ñ–∞–π–ª—É:
   ```
   –ü–µ—Ä—ñ–æ–¥ —Å–ø–æ—Å—Ç–µ—Ä–µ–∂–µ–Ω–Ω—è –∑ {min_date} –ø–æ {max_date}
   ```
2. –î–∞–ª—ñ:
   ```
   –ù–∞ –ª–æ–∫–∞—Ü—ñ—ó –∑ –¥–∂–µ—Ä–µ–ª–æ–º –∂—É—Ä–Ω–∞–ª—ñ–≤ –ø–æ–¥—ñ–π "<source>" –≤–∏—è–≤–ª–µ–Ω–æ <N> –ø—Ä–∏—Å—Ç—Ä–æ—ó–≤, —ñ–º–æ–≤—ñ—Ä–Ω–æ —Ç–∞–∫–∏—Ö, —â–æ —Ñ—É–Ω–∫—Ü—ñ–æ–Ω—É—é—Ç—å –±–µ–∑ –ê–í–ü–ó.
   ```
3. –ü–æ—Ç—ñ–º –¥–ª—è –∫–æ–∂–Ω–æ–≥–æ –ø—Ä–∏—Å—Ç—Ä–æ—é (`name`, `mac`, `ip`, `lastDate`, `count`), –≤—ñ–¥—Å–æ—Ä—Ç–æ–≤–∞–Ω–æ–≥–æ –∑–∞ `lastDateEpoch` —É —Å–ø–∞–¥–Ω–æ–º—É –ø–æ—Ä—è–¥–∫—É:
   ```
   –ü—Ä–∏—Å—Ç—Ä—ñ–π "{name}" ‚Äî MAC {mac}, IP {ip}.
   –û—Å—Ç–∞–Ω–Ω—î –æ—Ç—Ä–∏–º–∞–Ω–Ω—è –º–µ—Ä–µ–∂–µ–≤–∏—Ö –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω—å –≤—ñ–¥ DHCP —Å–µ—Ä–≤–µ—Ä—É: {lastDate}.
   –ó–∞–≥–∞–ª—å–Ω–∞ –∫—ñ–ª—å–∫—ñ—Å—Ç—å –æ—Ç—Ä–∏–º–∞–Ω—å –∑–∞ –ø–µ—Ä—ñ–æ–¥ —Å–ø–æ—Å—Ç–µ—Ä–µ–∂–µ–Ω–Ω—è: {count}.
   ```

---

## üß± –§–æ—Ä–º–∞—Ç—É–≤–∞–Ω–Ω—è
- –ö–æ–¥—É–≤–∞–Ω–Ω—è: UTF-8  
- –ü–æ—Ä–æ–∂–Ω—ñ —Ä—è–¥–∫–∏ –º—ñ–∂ —Å–µ–∫—Ü—ñ—è–º–∏ –¥–ª—è —á–∏—Ç–∞–±–µ–ª—å–Ω–æ—Å—Ç—ñ  
- –ü–æ—Ä–æ–∂–Ω—ñ –ø–æ–ª—è –∑–∞–º—ñ–Ω—é–≤–∞—Ç–∏ –Ω–∞ `unknown`  
- –î–∏—Ä–µ–∫—Ç–æ—Ä—ñ—é `data/report/` —Å—Ç–≤–æ—Ä—é–≤–∞—Ç–∏ –∑–∞ –ø–æ—Ç—Ä–µ–±–∏  

---

## üß™ –û—Å–æ–±–ª–∏–≤—ñ –≤–∏–ø–∞–¥–∫–∏
- –Ø–∫—â–æ `dhcp-false.csv` –ø–æ—Ä–æ–∂–Ω—ñ–π ‚Üí –≤–∏–≤–µ—Å—Ç–∏ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è —ñ –∑–∞–≤–µ—Ä—à–∏—Ç–∏ –±–µ–∑ –ø–æ–º–∏–ª–∫–∏.
- –Ø–∫—â–æ –¥–ª—è `source` –Ω–µ –∑–Ω–∞–π–¥–µ–Ω–æ –ª–æ–≥—ñ–≤ —É `data/raw/dhcp/*.csv` ‚Üí —Å—Ç–≤–æ—Ä–∏—Ç–∏ –∑–≤—ñ—Ç –±–µ–∑ –ø–µ—Ä—ñ–æ–¥—É.
- –Ø–∫—â–æ –¥–ª—è `source` –Ω–µ–º–∞—î –∑–∞–ø–∏—Å—ñ–≤ ‚Üí —Å—Ç–≤–æ—Ä–∏—Ç–∏ –∑–≤—ñ—Ç —ñ–∑ —Ñ—Ä–∞–∑–æ—é:
  ```
  –ù–∞ –ª–æ–∫–∞—Ü—ñ—ó –∑ –¥–∂–µ—Ä–µ–ª–æ–º –∂—É—Ä–Ω–∞–ª—ñ–≤ –ø–æ–¥—ñ–π "<source>" –ø—Ä–∏—Å—Ç—Ä–æ—ó–≤ –Ω–µ –≤–∏—è–≤–ª–µ–Ω–æ.
  ```

---

## üñ®Ô∏è –ü—Ä–∏–∫–ª–∞–¥ `report-10.10.61.10.txt`
```
–ü–µ—Ä—ñ–æ–¥ —Å–ø–æ—Å—Ç–µ—Ä–µ–∂–µ–Ω–Ω—è –∑ 2025.10.20 05:21 –ø–æ 2025.10.20 18:45

–ù–∞ –ª–æ–∫–∞—Ü—ñ—ó –∑ –¥–∂–µ—Ä–µ–ª–æ–º –∂—É—Ä–Ω–∞–ª—ñ–≤ –ø–æ–¥—ñ–π "10.10.61.10" –≤–∏—è–≤–ª–µ–Ω–æ 7 –ø—Ä–∏—Å—Ç—Ä–æ—ó–≤, —ñ–º–æ–≤—ñ—Ä–Ω–æ —Ç–∞–∫–∏—Ö, —â–æ —Ñ—É–Ω–∫—Ü—ñ–æ–Ω—É—é—Ç—å –±–µ–∑ –ê–í–ü–ó.

–ü—Ä–∏—Å—Ç—Ä—ñ–π "Office-PC-12" ‚Äî MAC AA:BB:CC:DD:EE:FF, IP 192.168.1.45.
–û—Å—Ç–∞–Ω–Ω—î –æ—Ç—Ä–∏–º–∞–Ω–Ω—è –º–µ—Ä–µ–∂–µ–≤–∏—Ö –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω—å: 2025.10.20 18:43.
–ó–∞–≥–∞–ª—å–Ω–∞ –∫—ñ–ª—å–∫—ñ—Å—Ç—å –æ—Ç—Ä–∏–º–∞–Ω—å –∑–∞ –ø–µ—Ä—ñ–æ–¥ —Å–ø–æ—Å—Ç–µ—Ä–µ–∂–µ–Ω–Ω—è: 5.

–ü—Ä–∏—Å—Ç—Ä—ñ–π "unknown" ‚Äî MAC 94:B6:09:58:1C:CC, IP 10.10.61.125.
–û—Å—Ç–∞–Ω–Ω—î –æ—Ç—Ä–∏–º–∞–Ω–Ω—è –º–µ—Ä–µ–∂–µ–≤–∏—Ö –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω—å: 2025.10.20 08:42.
–ó–∞–≥–∞–ª—å–Ω–∞ –∫—ñ–ª—å–∫—ñ—Å—Ç—å –æ—Ç—Ä–∏–º–∞–Ω—å –∑–∞ –ø–µ—Ä—ñ–æ–¥ —Å–ø–æ—Å—Ç–µ—Ä–µ–∂–µ–Ω–Ω—è: 1.
```

---

## ‚úÖ –ö—Ä–∏—Ç–µ—Ä—ñ—ó –ø—Ä–∏–π–Ω—è—Ç—Ç—è
- [ ] –°–∫—Ä–∏–ø—Ç –≥–µ–Ω–µ—Ä—É—î –∑–≤—ñ—Ç –¥–ª—è –∫–æ–∂–Ω–æ–≥–æ —É–Ω—ñ–∫–∞–ª—å–Ω–æ–≥–æ `source` –∑ `dhcp-false.csv`.  
- [ ] –£ —à–∞–ø—Ü—ñ –≤–∫–∞–∑–∞–Ω–æ –ø–µ—Ä—ñ–æ–¥ —Å–ø–æ—Å—Ç–µ—Ä–µ–∂–µ–Ω–Ω—è –∑ DHCP-–ª–æ–≥—ñ–≤ (`deviceTime`).  
- [ ] –§–æ—Ä–º–∞—Ç –¥–∞—Ç: `YYYY.MM.DD HH:MM` –±–µ–∑ –∑–º—ñ–Ω–∏ —á–∞—Å–æ–≤–æ—ó –∑–æ–Ω–∏.  
- [ ] –ü—Ä–∏—Å—Ç—Ä–æ—ó –≤—ñ–¥—Å–æ—Ä—Ç–æ–≤–∞–Ω—ñ –∑–∞ `lastDateEpoch` (—Å–ø–∞–¥–∞–Ω–Ω—è).  
- [ ] –§–∞–π–ª–∏ –∑–±–µ—Ä—ñ–≥–∞—é—Ç—å—Å—è —É `data/report/report-{source}.txt`.  
- [ ] –£ –∫–æ–Ω—Å–æ–ª—ñ –≤–∏–≤–æ–¥–∏—Ç—å—Å—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ —Å—Ñ–æ—Ä–º–æ–≤–∞–Ω–∏—Ö –∑–≤—ñ—Ç—ñ–≤.
