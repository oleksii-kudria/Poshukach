# üß© –ó–∞–≤–¥–∞–Ω–Ω—è 22 ‚Äî –û–±—Ä–æ–±–∫–∞ RDS-—Ñ–∞–π–ª—ñ–≤ —ñ —Ñ–æ—Ä–º—É–≤–∞–Ω–Ω—è `data/interim/rds.csv`

## üéØ –ú–µ—Ç–∞
–î–æ–¥–∞—Ç–∏ CLI-–æ–ø—Ü—ñ—é:
```bash
python3 scripts/psh.py rds
```
—è–∫–∞:
1) –ø–µ—Ä–µ–≤—ñ—Ä—è—î –Ω–∞—è–≤–Ω—ñ—Å—Ç—å —Ñ–∞–π–ª—ñ–≤ `data/raw/rds/*.csv` (—ñ–≥–Ω–æ—Ä—É—î `*.example.csv`);  
2) –∑—á–∏—Ç—É—î —ó—Ö —ñ —Ñ–æ—Ä–º—É—î –∑–≤–µ–¥–µ–Ω–∏–π —Ñ–∞–π–ª **`data/interim/rds.csv`** –∑ **—É–Ω—ñ–∫–∞–ª—å–Ω–∏–º–∏ MAC-–∞–¥—Ä–µ—Å–∞–º–∏** —Ç–∞ –∞–≥—Ä–µ–≥–æ–≤–∞–Ω–∏–º–∏ –º–µ—Ç–∞–¥–∞–Ω–∏–º–∏.

---

## üîΩ –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ –Ω–∞—è–≤–Ω–æ—Å—Ç—ñ –≤—Ö—ñ–¥–Ω–∏—Ö —Ñ–∞–π–ª—ñ–≤
- –®—É–∫–∞—Ç–∏ –≤—Å—ñ `*.csv` —É `data/raw/rds/`, **—ñ–≥–Ω–æ—Ä—É—é—á–∏** —Ñ–∞–π–ª–∏, —â–æ –∑–∞–∫—ñ–Ω—á—É—é—Ç—å—Å—è –Ω–∞ `.example.csv`.
- –Ø–∫—â–æ —Ñ–∞–π–ª—ñ–≤ **–Ω–µ–º–∞—î** ‚Äî –≤–∏–≤–µ—Å—Ç–∏ **—Ç–æ—á–Ω–æ**:
```
‚ùå RDS —Ñ–∞–π–ª–∏ –≤—ñ–¥—Å—É—Ç–Ω—ñ —É data/raw/rds/
```
—ñ **–∑–∞–≤–µ—Ä—à–∏—Ç–∏** –≤–∏–∫–æ–Ω–∞–Ω–Ω—è –∫–æ–º–∞–Ω–¥–∏ `rds` –±–µ–∑ –ø–æ–º–∏–ª–∫–∏ (exit code 0/–Ω–µ –ø–∞–¥–∞—Ç–∏).

---

## üì• –§–æ—Ä–º–∞—Ç –≤—Ö—ñ–¥–Ω–∏—Ö CSV (–ø—Ä–∏–∫–ª–∞–¥)
- –†–æ–∑–¥—ñ–ª—å–Ω–∏–∫: **`;`**  
- –ö–æ–¥—É–≤–∞–Ω–Ω—è: UTF-8  
- –ó–∞–≥–æ–ª–æ–≤–∫–∏ (–ø—Ä–∏–∫–ª–∞–¥):
  ```
  "RemoteHost";"–ê–¥—Ä–µ—Å IPv4";"–ò–º—è —Ö–æ—Å—Ç–∞";"–ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–µ –∏–º–µ–Ω–∞ —Ö–æ—Å—Ç–æ–≤";"MAC-–∞–¥—Ä–µ—Å";"–í—Ä–µ–º—è –ø–æ–≤—Ç–æ—Ä–µ–Ω–∏—è"
  ```
- –î–∞–Ω—ñ (–ø—Ä–∏–∫–ª–∞–¥):
  ```
  "100.200.10.110";"192.168.1.46";;              "192.168.1.46";"33-22-88-00-CC-44";"2025-10-13 08:38:31"
  "100.200.10.110";"192.168.1.88";"HOME-PC";      "HOME-PC";     "AA-EE-11-99-22-00";"2025-10-13 08:18:05"
  "100.200.10.110";"192.168.1.20";;              "192.168.1.20";"44-CC-EE-22-66-11";"2025-10-13 08:02:27"
  "100.200.10.110";"192.168.1.13";"DESKTOP-1ABCD11";"DESKTOP-1ABCD11";"EE-CC-99-00-BB-DD";"2025-10-13 06:59:20"
  "100.200.10.110";"192.168.1.13";"DESKTOP-1ABCD11";"DESKTOP-1ABCD11";"EE-CC-99-00-BB-DD";"2025-10-13 03:11:29"
  ```

---

## üõ†Ô∏è –û–±—Ä–æ–±–∫–∞ —Ç–∞ –Ω–æ—Ä–º–∞–ª—ñ–∑–∞—Ü—ñ—è
–î–ª—è –∫–æ–∂–Ω–æ–≥–æ —Ä—è–¥–∫–∞:

- `source` ‚Üê –∑–Ω–∞—á–µ–Ω–Ω—è –∫–æ–ª–æ–Ω–∫–∏ **"RemoteHost"** (—Ä—è–¥–æ–∫).
- `ip` ‚Üê –∑–Ω–∞—á–µ–Ω–Ω—è –∫–æ–ª–æ–Ω–∫–∏ **"–ê–¥—Ä–µ—Å IPv4"** (—Ä—è–¥–æ–∫).
- `mac` ‚Üê –∑–Ω–∞—á–µ–Ω–Ω—è **"MAC-–∞–¥—Ä–µ—Å"**, –Ω–æ—Ä–º–∞–ª—ñ–∑—É–≤–∞—Ç–∏ –≤ **`XX:XX:XX:XX:XX:XX`** (–≤–µ–ª–∏–∫—ñ –ª—ñ—Ç–µ—Ä–∏, —Ä–æ–∑–¥—ñ–ª—é–≤–∞—á `:`).  
  –ü—Ä–∏–∫–ª–∞–¥–∏ –ø–µ—Ä–µ—Ç–≤–æ—Ä–µ–Ω—å:
  - `33-22-88-00-CC-44` ‚Üí `33:22:88:00:CC:44`
  - `aa-ee-11-99-22-00` ‚Üí `AA:EE:11:99:22:00`
- `vendor` ‚Üê –≤–∏–∑–Ω–∞—á–∏—Ç–∏ –∑–∞ –¥–æ–≤—ñ–¥–Ω–∏–∫–æ–º **`data/cache/oui.csv`** (–∫–æ–ª–æ–Ω–∫–∞ **Organization Name**).  
  - –Ø–∫—â–æ `data/cache/oui.csv` **–≤—ñ–¥—Å—É—Ç–Ω—ñ–π** ‚Äî –≤–∏–≤–µ—Å—Ç–∏ –ø–æ–ø–µ—Ä–µ–¥–∂–µ–Ω–Ω—è –≤ –∫–æ–Ω—Å–æ–ª—å —ñ –ø—Ä–æ—Å—Ç–∞–≤–ª—è—Ç–∏ `vendor = "unknown"`.
- `name` ‚Üê –∑ –∫–æ–ª–æ–Ω–∫–∏ **"–ò–º—è —Ö–æ—Å—Ç–∞"**:
  - –Ø–∫—â–æ –ø–æ—Ä–æ–∂–Ω—î –∞–±–æ –¥–æ—Ä—ñ–≤–Ω—é—î IP-–∞–¥—Ä–µ—Å—ñ (–∑ **"–ò–º—è —Ö–æ—Å—Ç–∞"** —á–∏ **"–ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–µ –∏–º–µ–Ω–∞ —Ö–æ—Å—Ç–æ–≤"**) ‚Äî –∑–∞–ø–∏—Å–∞—Ç–∏ `unknown`.
  - –Ø–∫—â–æ —î **—Ä—è–¥–æ–∫-—ñ–º‚Äô—è** (–Ω–µ IP) ‚Äî –∑–∞–ø–∏—Å–∞—Ç–∏ —Ü–µ –∑–Ω–∞—á–µ–Ω–Ω—è.
- `firstDate` ‚Üê **–º—ñ–Ω—ñ–º–∞–ª—å–Ω–µ** –∑–Ω–∞—á–µ–Ω–Ω—è **"–í—Ä–µ–º—è –ø–æ–≤—Ç–æ—Ä–µ–Ω–∏—è"** –¥–ª—è —Ü—å–æ–≥–æ MAC —É —Ñ–æ—Ä–º–∞—Ç—ñ `YYYY.MM.DD hh:mm`.
- `lastDate` ‚Üê **–º–∞–∫—Å–∏–º–∞–ª—å–Ω–µ** –∑–Ω–∞—á–µ–Ω–Ω—è **"–í—Ä–µ–º—è –ø–æ–≤—Ç–æ—Ä–µ–Ω–∏—è"** –¥–ª—è —Ü—å–æ–≥–æ MAC —É —Ñ–æ—Ä–º–∞—Ç—ñ `YYYY.MM.DD hh:mm`.
- `firstDateEpoch` ‚Üê **–º—ñ–Ω—ñ–º–∞–ª—å–Ω–µ** `"–í—Ä–µ–º—è –ø–æ–≤—Ç–æ—Ä–µ–Ω–∏—è"` —Ü—å–æ–≥–æ MAC —É —Ñ–æ—Ä–º–∞—Ç—ñ **epoch (—Å–µ–∫—É–Ω–¥–∏)**.
- `lastDateEpoch` ‚Üê **–º–∞–∫—Å–∏–º–∞–ª—å–Ω–µ** `"–í—Ä–µ–º—è –ø–æ–≤—Ç–æ—Ä–µ–Ω–∏—è"` —Ü—å–æ–≥–æ MAC —É —Ñ–æ—Ä–º–∞—Ç—ñ **epoch (—Å–µ–∫—É–Ω–¥–∏)**.
  - **–í–∞–∂–ª–∏–≤–æ:** –Ω–µ –¥–æ–¥–∞–≤–∞—Ç–∏ —Ç–∞–π–º–∑–æ–Ω—É; –æ–±—Ä–æ–±–ª—è—Ç–∏ —è–∫ **–Ω–∞—ó–≤–Ω—É** –¥–∞—Ç—É-—á–∞—Å –±–µ–∑ –∑—Å—É–≤—ñ–≤.
- `count` ‚Üê —Å–∫—ñ–ª—å–∫–∏ —Ä–∞–∑—ñ–≤ —Ü–µ–π MAC –∑—É—Å—Ç—Ä—ñ–≤—Å—è —É **–≤—Å—ñ—Ö** RDS-—Ñ–∞–π–ª–∞—Ö.
- `randomized` ‚Üê `true`, —è–∫—â–æ MAC **–ª–æ–∫–∞–ª—å–Ω–æ –∞–¥–º—ñ–Ω—ñ—Å—Ç—Ä–æ–≤–∞–Ω–∏–π** (U/L-–±—ñ—Ç –ø–µ—Ä—à–æ–≥–æ –æ–∫—Ç–µ—Ç—É –≤—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ), —ñ–Ω–∞–∫—à–µ `false`.
- `dateList` ‚Üê **—É—Å—ñ** –∑–Ω–∞—á–µ–Ω–Ω—è `"–í—Ä–µ–º—è –ø–æ–≤—Ç–æ—Ä–µ–Ω–∏—è"` –¥–ª—è —Ü—å–æ–≥–æ MAC —É —Ñ–æ—Ä–º–∞—Ç—ñ **epoch (—Å–µ–∫—É–Ω–¥–∏)**,  
  **–≤—ñ–¥—Å–æ—Ä—Ç–æ–≤–∞–Ω—ñ –∑–∞ –∑—Ä–æ—Å—Ç–∞–Ω–Ω—è–º**, –∑–∞–ø–∏—Å–∞—Ç–∏ –≤ –æ–¥–∏–Ω —Ä—è–¥–æ–∫ —á–µ—Ä–µ–∑ `, ` (–∫–æ–º–∞ + –ø—Ä–æ–±—ñ–ª).

> **–ü—Ä–∏–º—ñ—Ç–∫–∞ —â–æ–¥–æ —á–∞—Å—É:** —Ä—è–¥–∫–∏ `"–í—Ä–µ–º—è –ø–æ–≤—Ç–æ—Ä–µ–Ω–∏—è"` —É —Ñ–æ—Ä–º–∞—Ç—ñ `YYYY-MM-DD HH:MM:SS`. –ë—É–¥—å-—è–∫–∏—Ö –ø–µ—Ä–µ—Ç–≤–æ—Ä–µ–Ω—å —Ç–∞–π–º–∑–æ–Ω–∏ **–Ω–µ —Ä–æ–±–∏—Ç–∏**.

---

## üì§ –í–∏—Ö—ñ–¥–Ω–∏–π —Ñ–∞–π–ª
–°—Ç–≤–æ—Ä–∏—Ç–∏/–ø–µ—Ä–µ–∑–∞–ø–∏—Å–∞—Ç–∏ —Ñ–∞–π–ª **`data/interim/rds.csv`** –∑—ñ **—à–∞–ø–∫–æ—é**:
```
source,ip,mac,vendor,name,firstDate,lastDate,firstDateEpoch,lastDateEpoch,count,randomized,dateList
```
–ö–æ–∂–µ–Ω MAC ‚Äî **—Ä—ñ–≤–Ω–æ –æ–¥–∏–Ω —Ä—è–¥–æ–∫** (–∞–≥—Ä–µ–≥–∞—Ü—ñ—è –ø–æ MAC).

---

## üßπ –î–µ–¥—É–ø–ª—ñ–∫–∞—Ü—ñ—è
- MAC-–∞–¥—Ä–µ—Å–∏ –º–∞—é—Ç—å –±—É—Ç–∏ **—É–Ω—ñ–∫–∞–ª—å–Ω–∏–º–∏** –≤ `data/interim/rds.csv`.
- –Ø–∫—â–æ –æ–¥–∏–Ω —ñ —Ç–æ–π —Å–∞–º–∏–π MAC –∑—É—Å—Ç—Ä—ñ—á–∞—î—Ç—å—Å—è –≤ —Ä—ñ–∑–Ω–∏—Ö —Ñ–∞–π–ª–∞—Ö `data/raw/rds/*.csv` ‚Äî –∞–≥—Ä–µ–≥—É–≤–∞—Ç–∏ –¥–∞–Ω—ñ —Ä–∞–∑–æ–º.

---

## üñ®Ô∏è –õ–æ–≥–∏ –≤ –∫–æ–Ω—Å–æ–ª—å (–ø—Ä–∏–∫–ª–∞–¥)
- –Ø–∫—â–æ —Ñ–∞–π–ª–∏ –≤—ñ–¥—Å—É—Ç–Ω—ñ:
  ```
  ‚ùå RDS —Ñ–∞–π–ª–∏ –≤—ñ–¥—Å—É—Ç–Ω—ñ —É data/raw/rds/
  ```
- –Ø–∫—â–æ —Ñ–∞–π–ª–∏ —î, –ø—ñ—Å–ª—è —É—Å–ø—ñ—à–Ω–æ–≥–æ —Ñ–æ—Ä–º—É–≤–∞–Ω–Ω—è:
  ```
  ‚úÖ –í–∏—è–≤–ª–µ–Ω–æ RDS-–∑–∞–ø–∏—Å—ñ–≤ (—É—Å—ñ —Ñ–∞–π–ª–∏): 1234
  ‚úÖ –£–Ω—ñ–∫–∞–ª—å–Ω–∏—Ö MAC-–∞–¥—Ä–µ—Å —É RDS: 456
  ‚úÖ –ó–±–µ—Ä–µ–∂–µ–Ω–æ –∞–≥—Ä–µ–≥–æ–≤–∞–Ω–∏–π —Ñ–∞–π–ª: data/interim/rds.csv
  ```

---

## ‚úÖ –ö—Ä–∏—Ç–µ—Ä—ñ—ó –ø—Ä–∏–π–Ω—è—Ç—Ç—è
- [ ] –ö–æ–º–∞–Ω–¥–∞ `python3 scripts/psh.py rds` –ø—Ä–∞—Ü—é—î –∑–≥—ñ–¥–Ω–æ —Å–ø–µ—Ü–∏—Ñ—ñ–∫–∞—Ü—ñ—ó.
- [ ] –í—ñ–¥—Å—É—Ç–Ω—ñ—Å—Ç—å —Ñ–∞–π–ª—ñ–≤ –∫–æ—Ä–µ–∫—Ç–Ω–æ –æ–±—Ä–æ–±–ª—è—î—Ç—å—Å—è –∑ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è–º: `‚ùå RDS —Ñ–∞–π–ª–∏ –≤—ñ–¥—Å—É—Ç–Ω—ñ —É data/raw/rds/`.
- [ ] `data/interim/rds.csv` –º—ñ—Å—Ç–∏—Ç—å **—É–Ω—ñ–∫–∞–ª—å–Ω—ñ MAC** —Ç–∞ –≤—Å—ñ –≤–∫–∞–∑–∞–Ω—ñ –∫–æ–ª–æ–Ω–∫–∏.
- [ ] –§–æ—Ä–º–∞—Ç–∏ –¥–∞—Ç —ñ epoch ‚Äî —è–∫ –æ–ø–∏—Å–∞–Ω–æ; –≤—ñ–¥—Å—É—Ç–Ω—ñ –±—É–¥—å-—è–∫—ñ –∑—Å—É–≤–∏ —Ç–∞–π–º–∑–æ–Ω–∏.
- [ ] `vendor` –ø—ñ–¥—Ç—è–≥—É—î—Ç—å—Å—è –∑ `data/cache/oui.csv` (–∞–±–æ `unknown`, —è–∫—â–æ –¥–æ–≤—ñ–¥–Ω–∏–∫–∞ –Ω–µ–º–∞—î).
- [ ] `randomized` –∫–æ—Ä–µ–∫—Ç–Ω–æ –≤–∏–∑–Ω–∞—á–∞—î –ª–æ–∫–∞–ª—å–Ω–æ –∞–¥–º—ñ–Ω—ñ—Å—Ç—Ä–æ–≤–∞–Ω—ñ MAC.
